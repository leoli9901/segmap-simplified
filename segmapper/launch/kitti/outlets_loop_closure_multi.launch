<?xml version="1.0" encoding="utf-8"?>

<launch>

  <arg name="respawn_value" default="false" /> <!-- boolean: true, false -->

    <!-- Bag file path -->
  <arg name="bag_file1" value="$(env HOME)/Datasets/datasets_cjw/outlets/prefixed/outlets1.bag"/>
  <rosparam param="LaserMapper/bag_file" subst_value="True">$(arg bag_file1)</rosparam>

  <!-- Bag file path -->
  <arg name="bag_file2" value="$(env HOME)/Datasets/datasets_cjw/outlets/prefixed/outlets2.bag"/>
  <rosparam param="LaserMapper/bag_file" subst_value="True">$(arg bag_file2)</rosparam>

    <!-- Bag file path -->

  <arg name="bag_file3" value="$(env HOME)/Datasets/datasets_cjw/outlets/prefixed/outlets3.bag"/>
  <rosparam param="LaserMapper/bag_file" subst_value="True">$(arg bag_file3)</rosparam>
    <!-- Bag file path -->
  <arg name="bag_file4" value="$(env HOME)/Datasets/datasets_cjw/outlets/prefixed/outlets4.bag"/>
  <rosparam param="LaserMapper/bag_file" subst_value="True">$(arg bag_file4)</rosparam>

  <arg name="bag_file5" value="$(env HOME)/Datasets/datasets_cjw/outlets/prefixed/outlets5.bag"/>
  <rosparam param="LaserMapper/bag_file" subst_value="True">$(arg bag_file5)</rosparam>


  <!-- Rviz visualization config file path -->
  <arg name="rviz_config_file" value="$(find segmapper)/launch/kitti/kitti_loop_closure_multi.rviz"/>

  <!-- ROS parameters -->
  <rosparam>use_sim_time: false</rosparam>
  <rosparam command="load" file="$(find segmapper)/launch/kitti/outlets_loop_closure_multi.yaml"/>

  <!-- rviz node -->
  <node name="visualizer" pkg="rviz" type="rviz" output="screen" respawn="$(arg respawn_value)" args="-d $(arg rviz_config_file)" />




  <!-- segmapper node -->
  <include file="$(find segmapper)/launch/segmapper.launch">
    <arg name="icp_configuration_file" value="$(find segmapper)/launch/kitti/icp_dynamic_outdoor.yaml"/>
    <arg name="icp_input_filters_file" value="$(find segmapper)/launch/kitti/input_filters_outdoor.yaml"/>
  </include>

  <!-- rosbag player node -->
  <node name="player1" pkg="rosbag" type="play" output="screen" args=" -r 2 -s 0 -d 1 $(arg bag_file1)"/>

  <!-- rosbag player node -->
  <node name="player2" pkg="rosbag" type="play" output="screen" args=" -r 2 -s 0 -d 2 $(arg bag_file2)"/>

  <!-- rosbag player node -->

 <node name="player3" pkg="rosbag" type="play" output="screen" args=" -r 2 -s 0 -d 3 $(arg bag_file3)"/>
 <node name="player4" pkg="rosbag" type="play" output="screen" args=" -r 2 -s 0 -d 4 $(arg bag_file4)"/>
 <node name="player5" pkg="rosbag" type="play" output="screen" args=" -r 2 -s 0 -d 5 $(arg bag_file5)"/>
 


</launch>
